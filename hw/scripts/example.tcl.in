switch $cfg(example) { 

    "perf_host" {
        puts "Link benchamrk example, throughput and latency tests, issued from host"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/perf_host"
    }

    "perf_fpga" {
        puts "Link benchmark example, throughput and latency tests, issued from fpga"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/perf_fpga"
    }

    "gbm_dtrees" {
        puts "Gradient boosting decision trees benchmark"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/gbm_dtrees/gbm/"
    }

    "hyperloglog" {
        puts "HyperLogLog cardinality estimation"

        # Add source files
        exec cp -rf "$hw_dir/hdl/operators/examples/hyperloglog/." "$proj_dir/hdl/config_0"
    }

    "sha256" {
        puts "SHA256 example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/sha256"  
    }

    "md5" {
        puts "MD5 example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/md5"  
    }

    "rng" {
        puts "rng example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rng"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/rng/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/rng/ip.tcl
        }
    }

    "rdma_rng" {
        puts "rng example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_rng"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/rdma_rng/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/rdma_rng/ip.tcl
        }
    }

    "nw" {
        puts "nw example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/nw"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/nw/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/nw/ip.tcl
        }
    }

    "rdma_nw" {
        puts "RDMA host DRAM example (over PCIe)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_nw"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/rdma_nw/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/rdma_nw/ip.tcl
        }
    }

    "matmul" {
        puts "matmul example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/matmul"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/matmul/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/matmul/ip.tcl
        }
    }

    "rdma_matmul" {
        puts "RDMA host DRAM example (over PCIe)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_matmul"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/rdma_matmul/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/rdma_matmul/ip.tcl
        }
    }

    "gzip" {
        puts "gzip example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/gzip"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/gzip/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/gzip/ip.tcl
        }
    }

    "rdma_gzip" {
        puts "RDMA host DRAM example (over PCIe)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_gzip"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/rdma_gzip/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/rdma_gzip/ip.tcl
        }
    }

    "keccak" {
        puts "keccak example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/keccak"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/keccak/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/keccak/ip.tcl
        }
    }

    "rdma_keccak" {
        puts "keccak example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_keccak"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/rdma_keccak/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/rdma_keccak/ip.tcl
        }
    }

    "hls4ml" {
        puts "hls4ml example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/hls4ml"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/hls4ml/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/hls4ml/ip.tcl
        }
    }

    "rdma_hls4ml" {
        puts "hls4ml example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_hls4ml"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/rdma_hls4ml/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/rdma_hls4ml/ip.tcl
        }
    }

    "sha256hls" {
        puts "sha256hls example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/sha256hls"  

        # Execute scripts, e.g. for IP generation
        if {[file exists $hw_dir/hdl/operators/examples/sha256hls/ip.tcl]} {
            puts "Execute script: ip.tcl"
            source $hw_dir/hdl/operators/examples/sha256hls/ip.tcl
        }
    }

    "bram_app" {
        puts "BRAM access example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/bram_app"
    }

    "host_baseline" {
        puts "IO switch example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/host_baseline"  
    }

    "perf_dram" {
        puts "Striping DRAM benchmark."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/perf_dram/"
    }

    "perf_hbm" {
        puts "Striping HBM benchmark."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/perf_hbm/"
    } 

    "perf_rdma_host" {
        puts "RDMA host DRAM example (over PCIe)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/perf_rdma/"
    }

    "rdma_aes" {
        puts "RDMA host DRAM example (over PCIe)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_aes/"
    }

    "rdma_sha256" {
        puts "RDMA host DRAM example (over PCIe)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_sha256/"
    }

    "rdma_md5" {
        puts "RDMA host DRAM example (over PCIe)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_md5/"
    }

    "perf_rdma_card" {
        puts "RDMA card DRAM example (FPGA DRAM)"

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/perf_rdma/"
    }

    "perf_tcp" {
        puts "TCP/IP benchmarking"
        
        # Add source files
        add_files "$hw_dir/hdl/operators/examples/perf_tcp/send_recv_role.sv"
        add_files "$hw_dir/hdl/operators/examples/perf_tcp/send_recv_slave.sv"
        add_files "$hw_dir/hdl/operators/examples/perf_tcp/perf_tcp_c0_0.svh"
        update_compile_order -fileset sources_1
        create_ip -name send_recv -vendor ethz.systems.fpga -library hls -version 1.0 -module_name send_recv_ip
        update_compile_order -fileset sources_1
        create_ip -name ila -vendor xilinx.com -library ip -version 6.2 -module_name ila_controller
        set_property -dict [list CONFIG.C_PROBE8_WIDTH {16} CONFIG.C_PROBE7_WIDTH {16} CONFIG.C_PROBE6_WIDTH {64} CONFIG.C_PROBE5_WIDTH {32} CONFIG.C_PROBE4_WIDTH {32} CONFIG.C_PROBE3_WIDTH {16} CONFIG.C_PROBE2_WIDTH {16} CONFIG.C_NUM_OF_PROBES {11} CONFIG.Component_Name {ila_controller} CONFIG.C_INPUT_PIPE_STAGES {1}] [get_ips ila_controller]
        update_compile_order -fileset sources_1
        create_ip -name ila -vendor xilinx.com -library ip -version 6.2 -module_name ila_perf
        set_property -dict [list CONFIG.C_PROBE31_WIDTH {16} CONFIG.C_PROBE30_WIDTH {32} CONFIG.C_PROBE29_WIDTH {32} CONFIG.C_PROBE28_WIDTH {32} CONFIG.C_PROBE27_WIDTH {32} CONFIG.C_PROBE22_WIDTH {32} CONFIG.C_PROBE21_WIDTH {32} CONFIG.C_PROBE20_WIDTH {16} CONFIG.C_PROBE19_WIDTH {64} CONFIG.C_PROBE18_WIDTH {30} CONFIG.C_PROBE14_WIDTH {32} CONFIG.C_PROBE13_WIDTH {16} CONFIG.C_PROBE12_WIDTH {64} CONFIG.C_PROBE11_WIDTH {64} CONFIG.C_PROBE10_WIDTH {2} CONFIG.C_NUM_OF_PROBES {32} CONFIG.Component_Name {ila_perf} CONFIG.C_INPUT_PIPE_STAGES {1} CONFIG.ALL_PROBE_SAME_MU_CNT {5}] [get_ips ila_perf]
    }

    "rdma_regex" {
        puts "RDMA regex rpc example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/rdma_regex/"
    }

    "io_switch_ndp" {
        puts "IO switch example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/io_switch_ndp"  
    }

    "service_aes" {
        puts "Coyote service (AES). Daemon example."

        # Add source files
        add_files "$hw_dir/hdl/operators/examples/service_aes"  
    }

    "service_reconfiguration" {
        puts "Coyote service (Partial reconfiguration). Daemon example."

        add_files "$hw_dir/hdl/operators/examples/service_reconfiguration/rtl"
        add_files -fileset constrs_1 -norecurse "$hw_dir/hdl/operators/examples/service_reconfiguration/constraints"

        for {set i 0}  {$i < $cfg(n_config)} {incr i} {
            for {set j 0}  {$j < $cfg(n_reg)} {incr j} {
                set cmd "add_files -norecurse $hw_dir/hdl/operators/examples/service_reconfiguration/rtl/service_reconfiguration_c$i\_$j.svh  -of_objects [get_reconfig_modules design_user_wrapper_c$i\_$j]"        
                eval $cmd

                set cmd "add_files $hw_dir/hdl/operators/examples/service_reconfiguration/rtl/c$i  -of_objects [get_reconfig_modules design_user_wrapper_c$i\_$j]"
                eval $cmd
            }
        }
    }

    "caribou" {
        puts "FPGA-serverless benchmark applications"

        add_files "$hw_dir/hdl/operators/caribou/rtl"
        add_files -fileset constrs_1 -norecurse "$hw_dir/hdl/operators/caribou/constraints"

        for {set i 0}  {$i < $cfg(n_config)} {incr i} {
            for {set j 0}  {$j < $cfg(n_reg)} {incr j} {
                set cmd "add_files -norecurse $hw_dir/hdl/operators/caribou/rtl/caribou_c$i\_$j.svh -of_objects [get_reconfig_modules design_user_wrapper_c$i\_$j]"
                eval $cmd

                set cmd "import_files $hw_dir/hdl/operators/caribou/rtl/c$i -of_objects [get_reconfig_modules design_user_wrapper_c$i\_$j]"
                eval $cmd

                # Substitute "_c0_1" in files by actual config and region names
                set cmd "exec /usr/bin/bash -c \"cd $proj_dir/lynx.srcs/design_user_wrapper_c$i\_$j/imports/c$i  && sed -i 's/_c0_1/_c$i\_$j/g' * \""
                puts "Execute command: $cmd"
                eval $cmd
            }

            # Execute scripts, e.g. for IP generation
            if {[file exists $hw_dir/hdl/operators/caribou/rtl/c$i.tcl]} {
                puts "Execute script: c$i.tcl"
                source $hw_dir/hdl/operators/caribou/rtl/c$i.tcl
            }
        }
    }

    "caribou3" {
        puts "FPGA-serverless benchmark applications"

        add_files "$hw_dir/hdl/operators/caribou3/rtl"
        add_files -fileset constrs_1 -norecurse "$hw_dir/hdl/operators/caribou3/constraints"

        for {set i 0}  {$i < $cfg(n_config)} {incr i} {
            for {set j 0}  {$j < $cfg(n_reg)} {incr j} {
                set cmd "add_files -norecurse $hw_dir/hdl/operators/caribou3/rtl/caribou3_c$i\_$j.svh -of_objects [get_reconfig_modules design_user_wrapper_c$i\_$j]"
                eval $cmd

                set cmd "import_files $hw_dir/hdl/operators/caribou3/rtl/c$i -of_objects [get_reconfig_modules design_user_wrapper_c$i\_$j]"
                eval $cmd

                # Substitute "_c0_1" in files by actual config and region names
                set cmd "exec /usr/bin/bash -c \"cd $proj_dir/lynx.srcs/design_user_wrapper_c$i\_$j/imports/c$i  && sed -i 's/_c0_1/_c$i\_$j/g' * \""
                puts "Execute command: $cmd"
                eval $cmd
            }

            # Execute scripts, e.g. for IP generation
            if {[file exists $hw_dir/hdl/operators/caribou3/rtl/c$i.tcl]} {
                puts "Execute script: c$i.tcl"
                source $hw_dir/hdl/operators/caribou3/rtl/c$i.tcl
            }
        }
    }


    default {
        puts "No example chosen"
    }
}